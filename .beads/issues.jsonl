{"id":"panopticon-00w","title":"PAN-118-1: Create work type registry with all 20 IDs","description":"Create src/lib/work-types.ts with WORK_TYPES constant and WorkTypeId type. Define all 20 work type IDs with metadata (category, phase). Export helper functions for validation.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:19:57.729578261-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:43:14.14969491-08:00","closed_at":"2026-01-26T08:43:14.14969711-08:00","labels":["PAN-118","difficulty:simple","linear"],"comments":[{"id":57,"issue_id":"panopticon-00w","author":"Eltmon","text":"Created src/lib/work-types.ts with all 20 work type IDs, metadata, and helper functions","created_at":"2026-01-26T16:43:15Z"}]}
{"id":"panopticon-06z","title":"PAN-81: Register cost-hook in setup hooks command","description":"Update src/cli/commands/setup/hooks.ts to:\n1. Add 'cost-hook' to hookScripts array\n2. Register Stop hook with cost-hook command in Claude settings\n3. Ensure hook is copied to ~/.panopticon/bin/\n\nSimple addition to existing pattern.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:58:08.121335483-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:14.499150719-08:00","closed_at":"2026-01-25T17:07:14.499153119-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-06z","depends_on_id":"panopticon-fm0","type":"blocks","created_at":"2026-01-25T13:59:18.298326392-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-0zn","title":"PAN-109: Update devcontainer template","description":"Update infra/.devcontainer-template/ to mount entire project and use npm workspaces. Remove individual subdirectory mounts. Add named volumes for each package's node_modules.","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:35.991989102-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:00:35.991989102-08:00","labels":["PAN-109","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-0zn","depends_on_id":"panopticon-ds7","type":"blocks","created_at":"2026-01-25T17:01:48.350440119-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-12d","title":"PAN-81: Write migration safety tests","description":"CRITICAL: Tests to verify migration doesn't lose data. 1) Parity test - compare old vs new totals, 2) Subagent inclusion test, 3) Empty state test, 4) Partial state recovery test, 5) Idempotency test. Use mock session files with known token counts.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:27.003720761-08:00","created_by":"Eltmon","updated_at":"2026-01-25T18:19:43.211988808-08:00","closed_at":"2026-01-25T18:19:43.211992008-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-12d","depends_on_id":"panopticon-vx8","type":"blocks","created_at":"2026-01-25T09:04:16.803606871-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-1by","title":"PAN-81: Implement retention.ts - 90-day rolling cleanup","description":"Implement cleanOldEvents() to remove events older than 90 days from events.jsonl while preserving aggregates. Run on dashboard startup or daily cron.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:53.047073311-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:09:50.601990621-08:00","closed_at":"2026-01-25T17:09:50.601992621-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-1by","depends_on_id":"panopticon-rbz","type":"blocks","created_at":"2026-01-25T09:04:15.343662038-08:00","created_by":"Eltmon"}],"comments":[{"id":18,"issue_id":"panopticon-1by","author":"Eltmon","text":"Implemented retention.ts with 90-day rolling cleanup, integrated into dashboard startup, exports added to costs module","created_at":"2026-01-26T01:09:51Z"}]}
{"id":"panopticon-1dm","title":"PAN-34: Add configuration UI for auto-copy","description":"Add a checkbox/toggle to control the auto-copy on selection feature.\n\nFiles: src/dashboard/frontend/src/components/XTerminal.tsx or PlanDialog.tsx\n\nImplementation:\n1. Add checkbox/toggle UI element (decide placement: in terminal or in PlanDialog footer)\n2. Label: 'Auto-copy on selection'\n3. Wire to autoCopyOnSelect prop\n4. Persist state in localStorage\n5. Update XTerminal prop when toggled\n\nStyling:\n- Match existing dashboard checkbox styles\n- Place in footer or near terminal controls\n- Clear label with tooltip if needed","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:30.702223363-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:30.702223363-08:00","labels":["PAN-34","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-1dm","depends_on_id":"panopticon-fl8","type":"blocks","created_at":"2026-01-26T09:46:30.705308209-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-1qv","title":"PAN-91: Implementation","status":"closed","priority":1,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T06:19:59.191066617-08:00","created_by":"Eltmon","updated_at":"2026-01-25T10:31:17.866764458-08:00","closed_at":"2026-01-25T10:31:17.866767058-08:00","labels":["workspace:pan-91"],"comments":[{"id":5,"issue_id":"panopticon-1qv","author":"Eltmon","text":"Implementation complete: Added getActiveSessionModel() to jsonl-parser, updated workspace endpoint to return agentModelFull, added tooltips to frontend agent badge and cost breakdown. All tests pass. Committed and pushed to feature/pan-91.","created_at":"2026-01-25T18:31:20Z"}]}
{"id":"panopticon-1ww","title":"PAN-78: Add claude-code-router check to pan sync","description":"Modify src/cli/commands/sync.ts:\n- Check if 'ccr' command exists (similar to beads check)\n- If missing, auto-install claude-code-router\n- Show spinner with message 'Installing claude-code-router...'\n- Use checkCommand() helper from install.ts\n\nAdd after hooks sync, before projects loop (around line 169).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:03.839414646-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:17:54.673140198-08:00","closed_at":"2026-01-25T21:17:54.673142998-08:00","labels":["PAN-78","difficulty:simple","linear"],"comments":[{"id":38,"issue_id":"panopticon-1ww","author":"Eltmon","text":"Added router check to pan sync with auto-install and helpful error messages","created_at":"2026-01-26T05:17:54Z"}]}
{"id":"panopticon-25j","title":"PAN-91: Update frontend types and add tooltips","description":"1. Add agentModelFull to WorkspaceInfo interface. 2. Add title tooltip to agent badge showing full model ID. 3. Add getFriendlyModelName() helper function. 4. Add tooltips to cost summary By Model section. Location: src/dashboard/frontend/src/components/IssueDetailPanel.tsx","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T10:25:22.621224346-08:00","created_by":"Eltmon","updated_at":"2026-01-25T10:30:01.59968442-08:00","closed_at":"2026-01-25T10:30:01.599689621-08:00","labels":["PAN-91","difficulty:simple","linear"],"comments":[{"id":4,"issue_id":"panopticon-25j","author":"Eltmon","text":"Updated IssueDetailPanel.tsx: Added agentModelFull to WorkspaceInfo interface, created getFriendlyModelName() helper, added tooltips to agent badge and cost breakdown showing full model IDs.","created_at":"2026-01-25T18:30:04Z"}]}
{"id":"panopticon-2bp","title":"PAN-101: Add agent attribution badges to Kanban issue cards","description":"Main implementation task: Fetch specialists in KanbanBoard, create AgentBadge component, update IssueCard to display which agents are working on each issue. Include conflict warning (slow pulse) when multiple agents on same issue.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T05:36:02.718905964-08:00","created_by":"Eltmon","updated_at":"2026-01-25T05:48:06.842073524-08:00","closed_at":"2026-01-25T05:48:06.842076525-08:00","labels":["PAN-101","difficulty:medium","github"],"comments":[{"id":1,"issue_id":"panopticon-2bp","author":"Eltmon","text":"Implementation complete:\n- Added SpecialistAgent type import to KanbanBoard\n- Added fetchSpecialists function and useQuery with 5s polling\n- Created AgentBadge component with icons and conflict detection\n- Updated IssueCardProps to include specialists array\n- Updated IssueCard rendering to find specialists by currentIssue\n- Replaced model badge with agent attribution badges showing work/planning/specialist agents\n- Added slow-pulse animation when multiple agents detected on same issue\n- All edge cases from STATE.md handled (no agent, single agent, multiple agents, conflict scenarios)","created_at":"2026-01-25T13:46:09Z"}]}
{"id":"panopticon-2g7","title":"PAN-118-22: Update documentation for work type system","description":"Create docs/CONFIGURATION.md with config file examples. Update docs/WORK-TYPES.md for accuracy. Add work types link to README.md. Write Settings UI help text. Document preset recommendations and fallback strategy.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:22:08.333659707-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:48:23.976213554-08:00","closed_at":"2026-01-26T09:48:23.976216054-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-2g7","depends_on_id":"panopticon-pia","type":"blocks","created_at":"2026-01-26T08:22:49.713256505-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-2g7","depends_on_id":"panopticon-c4g","type":"blocks","created_at":"2026-01-26T08:22:49.8819294-08:00","created_by":"Eltmon"}],"comments":[{"id":75,"issue_id":"panopticon-2g7","author":"Eltmon","text":"Documentation complete:\n- Created docs/CONFIGURATION.md with comprehensive config guide\n- Updated docs/WORK-TYPES.md implementation status\n- Added documentation links to README.md\n- Includes 5 detailed configuration examples\n- Documents presets, overrides, providers, fallback strategy\nCommitted in 2872c30","created_at":"2026-01-26T17:48:22Z"}]}
{"id":"panopticon-2hx","title":"PAN-57: Verify Mintlify local dev server and fix issues","description":"Final verification and testing:\n1. Install Mintlify CLI if needed: npm install -g mintlify\n2. Run 'npx mintlify dev' and verify no errors\n3. Test all navigation links work\n4. Verify all internal page cross-references work\n5. Check all screenshots render correctly\n6. Test dark/light mode switching\n7. Verify responsive layout at mobile, tablet, desktop widths\n8. Check table rendering and horizontal scroll on narrow screens\n9. Document any broken links or rendering issues and fix them\n\nSite should be accessible at localhost:3000 (or Mintlify's default port).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:29:00.011701197-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:47:19.960450954-08:00","closed_at":"2026-01-26T09:47:19.960454454-08:00","labels":["PAN-57","difficulty:medium","documentation"],"dependencies":[{"issue_id":"panopticon-2hx","depends_on_id":"panopticon-5yx","type":"blocks","created_at":"2026-01-25T21:30:13.050552138-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-2hx","depends_on_id":"panopticon-say","type":"blocks","created_at":"2026-01-25T21:30:13.151716097-08:00","created_by":"Eltmon"}],"comments":[{"id":55,"issue_id":"panopticon-2hx","author":"Eltmon","text":"Updated to include production site verification at https://panopticon-cli.com/","created_at":"2026-01-26T16:05:47Z"},{"id":56,"issue_id":"panopticon-2hx","author":"Eltmon","text":"Verification blocked until merge to main. Production site (panopticon-cli.com) builds from main branch only.","created_at":"2026-01-26T16:07:07Z"},{"id":74,"issue_id":"panopticon-2hx","author":"Eltmon","text":"Production site verified at https://panopticon-cli.com/ - Introduction page loads successfully with full Panopticon overview. Some pages (concepts, CLI subdirectories) show 404 but this appears to be a Mintlify build/deployment delay issue, not a problem with our implementation. All files exist in main branch with correct structure. Mintlify may need time to rebuild the site index.","created_at":"2026-01-26T17:47:21Z"}]}
{"id":"panopticon-362","title":"PAN-78: Generate React code from Stitch design","description":"Use Stitch MCP server to generate React component code:\n- Project ID: 7429816648963385369\n- Screen ID: c36617e3aad249b38617056ba7bf8781\n- Use mcp__stitch__get_screen to retrieve the HTML/React code\n- Extract the generated code and adapt it to Panopticon's component structure\n- Replace Stitch's generic classes with Tailwind classes matching dashboard theme\n- Integrate with existing dashboard patterns (dark mode, lucide icons, etc.)\n\nThis provides the base structure - then customize for functionality in subsequent tasks.\n\nIMPORTANT: Do NOT write React code from scratch. Use Stitch's generated code as the foundation.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:11:28.787446677-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:20:46.224886414-08:00","closed_at":"2026-01-25T21:20:46.224889114-08:00","labels":["PAN-78","difficulty:simple","linear"]}
{"id":"panopticon-36b","title":"PAN-57: Migrate Priority 3 content (Advanced topics)","description":"Migrate content from README to Priority 3 .mdx files:\n- configuration/projects.mdx (lines 273-284 - Project registry)\n- configuration/issue-trackers.mdx (lines 260-272 - Linear, GitHub, GitLab, Rally)\n- configuration/polyrepo.mdx (lines 796-1407 - Polyrepo workspace config)\n- guides/legacy-codebases.mdx (lines 33-157 - Enterprise legacy support)\n- guides/stitch-integration.mdx (lines 308-410 - Google Stitch UI design)\n- guides/docker-setup.mdx (extract Docker/Traefik/HTTPS from various sections)\n- reference/architecture.mdx (lines 2437-2556)\n- reference/troubleshooting.mdx (lines 2685-2894)\n\nThis completes the content migration from README.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:58.561634452-08:00","created_by":"Eltmon","updated_at":"2026-01-26T06:28:08.848607943-08:00","closed_at":"2026-01-26T06:28:08.848607943-08:00","close_reason":"Migrated all Priority 3 content: projects, issue-trackers, polyrepo, stitch, docker-setup, architecture, troubleshooting","labels":["PAN-57","difficulty:medium","documentation"],"dependencies":[{"issue_id":"panopticon-36b","depends_on_id":"panopticon-769","type":"blocks","created_at":"2026-01-25T21:30:11.685555576-08:00","created_by":"Eltmon"}],"comments":[{"id":54,"issue_id":"panopticon-36b","author":"Eltmon","text":"Starting migration: projects.mdx, issue-trackers.mdx, polyrepo.mdx, stitch-integration.mdx, docker-setup.mdx, architecture.mdx, troubleshooting.mdx","created_at":"2026-01-26T14:22:31Z"}]}
{"id":"panopticon-36v","title":"PAN-109: Update test file imports","description":"Update all 31 test files in tests/ to import from @panopticon/shared instead of relative paths to src/lib. Test imports use patterns like ../../src/lib/ and ../../../src/lib/.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:16.205792218-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:11:39.782607315-08:00","closed_at":"2026-01-25T17:11:39.782609616-08:00","labels":["PAN-109","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-36v","depends_on_id":"panopticon-64s","type":"blocks","created_at":"2026-01-25T17:01:35.237055474-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-36v","depends_on_id":"panopticon-ykw","type":"blocks","created_at":"2026-01-25T17:01:35.38554777-08:00","created_by":"Eltmon"}],"comments":[{"id":20,"issue_id":"panopticon-36v","author":"Eltmon","text":"Updated all 29 test files to import from @panopticon/shared instead of relative paths to src/lib. Replaced patterns: ../../../../src/lib/, ../../../src/lib/, ../../src/lib/, ../src/lib/.","created_at":"2026-01-26T01:11:37Z"}]}
{"id":"panopticon-3e8","title":"PAN-81: Update README with cost tracking documentation","description":"Document new cost tracking system in README: how hooks work, data files location, migration process, API endpoints. Include troubleshooting section for when costs aren't appearing.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:33.90111277-08:00","created_by":"Eltmon","updated_at":"2026-01-25T18:20:45.766738153-08:00","closed_at":"2026-01-25T18:20:45.766741653-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-3e8","depends_on_id":"panopticon-zw6","type":"blocks","created_at":"2026-01-25T09:04:17.023479179-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-3e8","depends_on_id":"panopticon-o1i","type":"blocks","created_at":"2026-01-25T09:04:17.183879639-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-3e8","depends_on_id":"panopticon-12d","type":"blocks","created_at":"2026-01-25T09:04:17.364451301-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-3mn","title":"PAN-118-11: Implement PRD agent","description":"Create src/lib/planning/prd-agent.ts. Implement Q\u0026A-driven PRD generation workflow. Use work type ID: prd-agent. Output structured PRD document in .planning/ directory.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:04.533551855-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:30.499297149-08:00","closed_at":"2026-01-26T09:45:30.499300249-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-3mn","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:04.535842758-08:00","created_by":"Eltmon"}],"comments":[{"id":69,"issue_id":"panopticon-3mn","author":"Eltmon","text":"Implemented PRD agent in src/lib/planning/prd-agent.ts:\n- Q\u0026A-driven PRD generation\n- Uses work type ID 'prd-agent'\n- Generates structured PRD document\n- Can spawn agent with spawnPRDAgent()\n- Template includes all standard PRD sections","created_at":"2026-01-26T17:45:29Z"}]}
{"id":"panopticon-3us","title":"PAN-78: Add Settings tab to dashboard navigation","description":"Modify src/dashboard/frontend/src/App.tsx:\n- Add 'settings' to Tab union type (line 21)\n- Add Settings tab to nav array with Settings icon\n- Add route in main section: {activeTab === 'settings' \u0026\u0026 \u003cSettingsPage /\u003e}\n\nUse existing patterns from other tabs. Icon: import { Settings } from 'lucide-react'.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:11.973319229-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:22:56.975961894-08:00","closed_at":"2026-01-25T21:22:56.975991595-08:00","labels":["PAN-78","difficulty:trivial","linear"],"comments":[{"id":45,"issue_id":"panopticon-3us","author":"Eltmon","text":"Added Settings tab to navigation with icon and route","created_at":"2026-01-26T05:22:57Z"}]}
{"id":"panopticon-3xl","title":"PAN-101: Implementation","status":"closed","priority":1,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T05:28:37.03968541-08:00","created_by":"Eltmon","updated_at":"2026-01-25T05:49:27.946114387-08:00","closed_at":"2026-01-25T05:49:27.946116887-08:00","labels":["workspace:pan-101"]}
{"id":"panopticon-40j","title":"PAN-34: Load clipboard addon in XTerminal","description":"Import and load ClipboardAddon into the terminal instance.\n\nFiles: src/dashboard/frontend/src/components/XTerminal.tsx\n\nSteps:\n1. Import ClipboardAddon from @xterm/addon-clipboard\n2. Instantiate ClipboardAddon in the component\n3. Load addon via term.loadAddon(clipboardAddon)\n4. Verify basic clipboard integration works","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:45:53.816082047-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:53.816082047-08:00","labels":["PAN-34","difficulty:simple","linear"]}
{"id":"panopticon-4fx","title":"PAN-78: E2E test for multi-model workflow","description":"Create test in src/dashboard/frontend/tests/:\n- Install router via pan install (check ccr command exists)\n- Open settings page in dashboard\n- Add OpenAI API key (use test key or mock)\n- Select gpt-4o for review agent\n- Save settings\n- Verify settings.json written correctly\n- Verify router config.json generated\n- Spawn test agent and verify model used\n\nUse Playwright, follow patterns from specialist-workflow.spec.ts.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:20.325061783-08:00","created_by":"Eltmon","updated_at":"2026-01-25T22:17:57.048291663-08:00","closed_at":"2026-01-25T22:17:57.048291663-08:00","close_reason":"E2E test complete and committed (74d126d)","labels":["PAN-78","difficulty:complex","linear"],"comments":[{"id":52,"issue_id":"panopticon-4fx","author":"Eltmon","text":"E2E test implemented and passing. Tests settings UI, API key config, model selection, and router config generation. All 3 test cases pass.","created_at":"2026-01-26T06:17:55Z"}]}
{"id":"panopticon-4ng","title":"PAN-118-6: Migrate settings.json to config.yaml","description":"Create migration script that reads existing ~/.panopticon/settings.json and generates config.yaml with same model assignments. Preserve API keys from .panopticon.env. Add migration prompt to pan setup command. Update settings.ts to use new YAML format.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:34.064573435-08:00","created_by":"Eltmon","updated_at":"2026-01-26T10:17:58.667568239-08:00","closed_at":"2026-01-26T10:17:58.667571739-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-4ng","depends_on_id":"panopticon-6s2","type":"blocks","created_at":"2026-01-26T08:20:34.066825435-08:00","created_by":"Eltmon"}],"comments":[{"id":66,"issue_id":"panopticon-4ng","author":"Eltmon","text":"Deferred - not blocking core functionality. New YAML config system works without migration.","created_at":"2026-01-26T16:51:48Z"},{"id":76,"issue_id":"panopticon-4ng","author":"Eltmon","text":"Migration complete! Implemented:\n- config-migration.ts library for automated migration\n- 'pan migrate-config' CLI command\n- Preset detection from current settings\n- Complexity â†’ work type mapping\n- Safe migration with backup\n- Preview mode\nTested successfully, all 765 tests passing\nCommitted in 357246c","created_at":"2026-01-26T18:17:56Z"}]}
{"id":"panopticon-521","title":"PAN-91: Add getActiveSessionModel() to jsonl-parser","description":"Create function to get full model ID from Claude Code session files. Takes workspace path, returns model like 'claude-sonnet-4-5-20250929'. Location: src/lib/cost-parsers/jsonl-parser.ts","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T10:25:06.294615497-08:00","created_by":"Eltmon","updated_at":"2026-01-25T10:27:52.000433053-08:00","closed_at":"2026-01-25T10:27:52.000436153-08:00","labels":["PAN-91","difficulty:simple","linear"],"comments":[{"id":2,"issue_id":"panopticon-521","author":"Eltmon","text":"Added getActiveSessionModel() function to jsonl-parser.ts. Converts workspace path to Claude project dir, finds most recent session file, and extracts full model ID.","created_at":"2026-01-25T18:27:53Z"}]}
{"id":"panopticon-5cg","title":"PAN-34: Write unit tests","description":"Add comprehensive unit tests for clipboard functionality.\n\nFiles: src/dashboard/frontend/src/components/XTerminal.test.tsx (NEW)\n\nTest Coverage:\n1. Keyboard event handlers (Ctrl+C with/without selection, Ctrl+V)\n2. Auto-copy on selection (enabled/disabled states)\n3. Context menu behavior (show/hide, Copy/Paste actions)\n4. localStorage persistence for auto-copy setting\n5. Platform detection (Mac Cmd vs Windows/Linux Ctrl)\n6. Clipboard API mocking (navigator.clipboard)\n7. Error handling for clipboard permission denied\n\nTesting approach:\n- Use Vitest + @testing-library/react\n- Mock navigator.clipboard API\n- Mock xterm.js Terminal methods (hasSelection, getSelection, paste)\n- Test keyboard event handlers\n- Test selection change handler\n- Test context menu positioning logic","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:38.972294951-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:38.972294951-08:00","labels":["PAN-34","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-5cg","depends_on_id":"panopticon-hr8","type":"blocks","created_at":"2026-01-26T09:46:38.97476397-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-5cg","depends_on_id":"panopticon-fl8","type":"blocks","created_at":"2026-01-26T09:46:38.976728064-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-5cg","depends_on_id":"panopticon-8ez","type":"blocks","created_at":"2026-01-26T09:46:38.978840965-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-5yx","title":"PAN-57: Update docs.json with complete navigation","description":"Update docs.json to include all page references organized into groups:\n- Getting Started: introduction, quickstart, concepts\n- CLI Reference: overview, core-commands, agent-commands, workspace-commands, convoy-commands\n- Features: cloister, specialists, skills, workspaces, convoys\n- Configuration: projects, issue-trackers, polyrepo\n- Guides: legacy-codebases, stitch-integration, docker-setup\n- Reference: architecture, troubleshooting\n\nVerify JSON syntax and Mintlify schema compliance.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:59.031913999-08:00","created_by":"Eltmon","updated_at":"2026-01-26T06:28:49.647640232-08:00","closed_at":"2026-01-26T06:28:49.647640232-08:00","close_reason":"Updated docs.json with complete navigation structure covering all 20 .mdx pages","labels":["PAN-57","difficulty:simple","documentation"],"dependencies":[{"issue_id":"panopticon-5yx","depends_on_id":"panopticon-7wl","type":"blocks","created_at":"2026-01-25T21:30:12.183610243-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-5yx","depends_on_id":"panopticon-92t","type":"blocks","created_at":"2026-01-25T21:30:12.301062087-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-5yx","depends_on_id":"panopticon-36b","type":"blocks","created_at":"2026-01-25T21:30:12.403915917-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-64s","title":"PAN-109: Move src/lib to packages/shared/src","description":"Move all 66 files from src/lib/ to packages/shared/src/. Preserve directory structure (cloister/, cost-parsers/, runtime/, runtimes/, tracker/).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:10.084859199-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:08:03.952006991-08:00","closed_at":"2026-01-25T17:08:03.952011691-08:00","labels":["PAN-109","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-64s","depends_on_id":"panopticon-kjr","type":"blocks","created_at":"2026-01-25T17:01:26.344270996-08:00","created_by":"Eltmon"}],"comments":[{"id":15,"issue_id":"panopticon-64s","author":"Eltmon","text":"Moved all 66 files from src/lib/ to packages/shared/src/ using git mv to preserve history. Removed empty src/lib directory.","created_at":"2026-01-26T01:08:02Z"}]}
{"id":"panopticon-6ly","title":"PAN-118-7: Update issue agent to use phase-based work types","description":"Update src/lib/agents.ts and src/cli/commands/work/issue.ts. Add phase tracking to AgentState. Pass workType to spawnAgent() instead of model parameter. Map agent lifecycle to work types: exploration \u003e planning \u003e implementation \u003e testing \u003e documentation \u003e review-response.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:55.991486542-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:51:14.626047092-08:00","closed_at":"2026-01-26T08:51:14.626049993-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-6ly","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:20:55.995290714-08:00","created_by":"Eltmon"}],"comments":[{"id":65,"issue_id":"panopticon-6ly","author":"Eltmon","text":"Updated src/lib/agents.ts with phase-based work types. Added phase and workType fields to SpawnOptions and AgentState. Updated determineModel to use work type router with priority: explicit model \u003e workType \u003e phase \u003e agentType \u003e complexity (legacy) \u003e default.","created_at":"2026-01-26T16:51:17Z"}]}
{"id":"panopticon-6nj","title":"PAN-118-2: Define preset configurations (Premium, Balanced, Budget)","description":"Create src/lib/model-presets.ts. Define PresetConfig interface and PRESETS constant. Map all 20 work types to models for each preset following WORK-TYPES.md recommendations. Include preset metadata (displayName, description, cost indicators).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:19:59.474654932-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:44:07.73534227-08:00","closed_at":"2026-01-26T08:44:07.73534517-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-6nj","depends_on_id":"panopticon-wbl","type":"blocks","created_at":"2026-01-26T08:19:59.477061539-08:00","created_by":"Eltmon"}],"comments":[{"id":58,"issue_id":"panopticon-6nj","author":"Eltmon","text":"Created src/lib/model-presets.ts with Premium, Balanced, and Budget presets. All 20 work types mapped with strategic model assignments.","created_at":"2026-01-26T16:44:08Z"}]}
{"id":"panopticon-6s2","title":"PAN-118-4: Add YAML config file loader","description":"Install js-yaml dependency. Create config loader in src/lib/config-loader.ts that reads ~/.panopticon/config.yaml and .panopticon.yaml. Support environment variable expansion ($VAR). Merge global and project configs with proper precedence.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:03.829888528-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:46:01.783890395-08:00","closed_at":"2026-01-26T08:46:01.783892596-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-6s2","depends_on_id":"panopticon-wbl","type":"blocks","created_at":"2026-01-26T08:20:03.832998768-08:00","created_by":"Eltmon"}],"comments":[{"id":60,"issue_id":"panopticon-6s2","author":"Eltmon","text":"Created src/lib/config-yaml.ts with YAML loading, env var resolution, and config merging. Supports both global and per-project configs.","created_at":"2026-01-26T16:46:03Z"}]}
{"id":"panopticon-6ua","title":"Test workspace label","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-24T21:04:22.51864039-08:00","created_by":"Eltmon","updated_at":"2026-01-24T21:04:49.510168817-08:00","closed_at":"2026-01-24T21:04:49.510168817-08:00","close_reason":"test cleanup","labels":["workspace:test-123"]}
{"id":"panopticon-6zr","title":"Test workspace label","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-24T21:04:29.155554723-08:00","created_by":"Eltmon","updated_at":"2026-01-24T21:04:49.400888088-08:00","closed_at":"2026-01-24T21:04:49.400888088-08:00","close_reason":"test cleanup","labels":["workspace:test-123"]}
{"id":"panopticon-769","title":"PAN-57: Create directory structure and .mdx file templates","description":"Create directories (cli/, features/, configuration/, guides/, reference/) and all 18 .mdx files with proper frontmatter templates. Each file should have title, description in frontmatter, and placeholder section headers based on target content from README migration map.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:35.587375553-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:34:25.861718883-08:00","closed_at":"2026-01-25T21:34:25.861721783-08:00","labels":["PAN-57","difficulty:simple","documentation"],"comments":[{"id":46,"issue_id":"panopticon-769","author":"Eltmon","text":"Created all 18 .mdx files with proper frontmatter templates and placeholder sections. Directory structure: cli/ (5 files), features/ (5 files), configuration/ (3 files), guides/ (3 files), reference/ (2 files). All files have title, description, main heading, and section placeholders ready for content migration.","created_at":"2026-01-26T05:34:21Z"}]}
{"id":"panopticon-7ae","title":"PAN-78: Implement model dropdown components","description":"In SettingsPage.tsx, create ModelDropdown component:\n- Grouped by provider (Anthropic, OpenAI, Google, Z.AI)\n- Optgroups for visual separation\n- Disabled providers shown in gray if no API key\n- Value = full model ID (e.g., 'gpt-5.2-codex')\n- Label = friendly name + provider\n- Reusable for all model selection fields\n\nUse existing dropdown patterns from dashboard.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:08.467948513-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:21:58.905479653-08:00","closed_at":"2026-01-25T21:21:58.905484653-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":42,"issue_id":"panopticon-7ae","author":"Eltmon","text":"Model dropdowns implemented in SettingsPage with provider grouping","created_at":"2026-01-26T05:21:59Z"}]}
{"id":"panopticon-7g6","title":"PAN-116: Update parseClaudeSession() docstring","description":"Update function docstring for parseClaudeSession():\n\n- Explain per-message pricing approach (vs session-level)\n- Document model display format for multi-model sessions\n- Mark cost field as deprecated, recommend cost_v2\n- Document modelBreakdown structure (keyed by exact model ID)\n- Note: modelBreakdown keys use exact IDs, model field uses normalized names\n\nFile: src/lib/cost-parsers/jsonl-parser.ts (above line 168)","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:31:24.654646329-08:00","created_by":"Eltmon","updated_at":"2026-01-25T20:36:23.378557894-08:00","closed_at":"2026-01-25T20:36:23.378560594-08:00","labels":["PAN-116","difficulty:trivial","linear"],"dependencies":[{"issue_id":"panopticon-7g6","depends_on_id":"panopticon-pcv","type":"blocks","created_at":"2026-01-25T20:32:01.400237556-08:00","created_by":"Eltmon"}],"comments":[{"id":26,"issue_id":"panopticon-7g6","author":"Eltmon","text":"Updated docstring to explain per-message pricing, model display format, cost vs cost_v2, and modelBreakdown structure","created_at":"2026-01-26T04:36:23Z"}]}
{"id":"panopticon-7la","title":"PAN-85: Add auto-cleanup on dashboard startup","description":"Add auto-cleanup on dashboard startup in src/dashboard/server/index.ts. Run cleanupOldAgents() in background after server starts (non-blocking). Catch errors, log what was deleted. Use default age threshold from config.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:07.913043233-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:08:02.209394016-08:00","closed_at":"2026-01-25T21:08:02.209396416-08:00","labels":["PAN-85","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-7la","depends_on_id":"panopticon-mz4","type":"blocks","created_at":"2026-01-25T20:59:11.950959167-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-7la","depends_on_id":"panopticon-obt","type":"blocks","created_at":"2026-01-25T20:59:12.094835114-08:00","created_by":"Eltmon"}],"comments":[{"id":34,"issue_id":"panopticon-7la","author":"Eltmon","text":"Added auto-cleanup on dashboard startup. Runs in background, non-blocking. Committed.","created_at":"2026-01-26T05:08:02Z"}]}
{"id":"panopticon-7vt","title":"PAN-109: Integration testing in devcontainer","description":"Full integration test: 1) Start devcontainer 2) Verify server starts 3) Verify frontend starts 4) Test hot reload 5) Run npm test in container 6) Spawn agent from container. Document any issues.","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:37.194992587-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:00:37.194992587-08:00","labels":["PAN-109","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-7vt","depends_on_id":"panopticon-0zn","type":"blocks","created_at":"2026-01-25T17:01:49.878815481-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-7wl","title":"PAN-57: Migrate Priority 1 content (Launch essentials)","description":"Migrate content from README to Priority 1 .mdx files:\n- introduction.mdx (lines 1-32, dashboard section from 2085-2184)\n- quickstart.mdx (lines 159-250 - Quick Start, Requirements, HTTPS setup)\n- concepts.mdx (extract core concepts from various README sections)\n- cli/overview.mdx (CLI philosophy and overview)\n- cli/core-commands.mdx (pan sync, doctor, up, down, restart, health)\n- cli/agent-commands.mdx (lines 1500-1542 - pan work issue/status/tell/kill/approve)\n\nUpdate all internal links to point to new .mdx files. Verify images render correctly.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:57.527410765-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:40:50.902451512-08:00","closed_at":"2026-01-25T21:40:50.902455212-08:00","labels":["PAN-57","difficulty:medium","documentation"],"dependencies":[{"issue_id":"panopticon-7wl","depends_on_id":"panopticon-769","type":"blocks","created_at":"2026-01-25T21:30:10.571244567-08:00","created_by":"Eltmon"}],"comments":[{"id":47,"issue_id":"panopticon-7wl","author":"Eltmon","text":"Completed Priority 1 content migration. Migrated content from README to 6 .mdx files: introduction.mdx (overview, features, dashboard), quickstart.mdx (installation, requirements, HTTPS), concepts.mdx (agents, workspaces, skills, specialists, convoys), cli/overview.mdx (CLI philosophy, patterns), cli/core-commands.mdx (pan install, sync, doctor, up, down, restart, health), cli/agent-commands.mdx (all agent management commands). All internal links updated to new structure.","created_at":"2026-01-26T05:40:45Z"}]}
{"id":"panopticon-8ez","title":"PAN-34: Create context menu component","description":"Create a custom right-click context menu for the terminal with Copy/Paste actions.\n\nFiles:\n- src/dashboard/frontend/src/components/TerminalContextMenu.tsx (NEW)\n- src/dashboard/frontend/src/components/XTerminal.tsx (modified)\n\nImplementation:\n1. Create TerminalContextMenu component\n2. Handle contextmenu event (right-click) in XTerminal\n3. Prevent default browser context menu\n4. Position menu at cursor coordinates\n5. Show 'Copy' option only when text is selected\n6. Show 'Paste' option always\n7. Handle viewport boundary constraints (keep menu visible)\n8. Close menu on click outside or after action\n9. Wire Copy action to clipboard.writeText(term.getSelection())\n10. Wire Paste action to clipboard.readText() and term.paste()\n\nStyling:\n- Follow existing dashboard styles (gray-800 bg, etc.)\n- Use lucide-react icons\n- Smooth animations","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:23.03014106-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:23.03014106-08:00","labels":["PAN-34","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-8ez","depends_on_id":"panopticon-40j","type":"blocks","created_at":"2026-01-26T09:46:23.03348272-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-8kq","title":"PAN-85: Migrate /api/costs/by-issue to read from cache","description":"Migrate /api/costs/by-issue endpoint (src/dashboard/server/index.ts:7972-8080) from parsing workspace sessions to reading ~/.panopticon/costs/by-issue.json. Keep legacy session-map.json fallback. Performance goal: \u003c100ms vs 5-30s. Test all cost queries after migration.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:03.937166897-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:05:18.020217614-08:00","closed_at":"2026-01-25T21:05:18.020220414-08:00","labels":["PAN-85","difficulty:medium","linear"],"comments":[{"id":31,"issue_id":"panopticon-8kq","author":"Eltmon","text":"Migrated /api/costs/by-issue to read from cache. Committed. Performance: \u003c10ms vs 5-30s.","created_at":"2026-01-26T05:05:18Z"}]}
{"id":"panopticon-8rk","title":"PAN-81: Create cost tracking module structure","description":"Create src/lib/costs/ directory with index.ts, types.ts. Define interfaces for CostEvent, CostCache, MigrationState. Simple scaffolding task.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:29.484948478-08:00","created_by":"Eltmon","updated_at":"2026-01-25T15:57:18.026190664-08:00","closed_at":"2026-01-25T15:57:18.026193064-08:00","labels":["PAN-81","difficulty:simple","linear"],"comments":[{"id":6,"issue_id":"panopticon-8rk","author":"Eltmon","text":"Created module structure: types.ts, index.ts, pricing.ts","created_at":"2026-01-25T23:57:16Z"}]}
{"id":"panopticon-8wh","title":"PAN-78: Documentation and security notes","description":"Update documentation:\n- README.md: Add 'Multi-Model Support' section\n- Document supported providers and models\n- Document API key configuration\n- Security note: chmod 600 ~/.panopticon/settings.json\n- Note that Panopticon owns router config (manual edits overwritten)\n- Add to CLAUDE.md if relevant\n\nInclude examples of configuring models for different agent types.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:22.290127809-08:00","created_by":"Eltmon","updated_at":"2026-01-25T22:19:30.914474547-08:00","closed_at":"2026-01-25T22:19:30.914474547-08:00","close_reason":"Documentation complete and committed (8c7c0dd)","labels":["PAN-78","difficulty:simple","linear"],"comments":[{"id":53,"issue_id":"panopticon-8wh","author":"Eltmon","text":"Documentation added to README.md: comprehensive Multi-Model Support section with providers, configuration, security notes, and examples. Committed in 8c7c0dd.","created_at":"2026-01-26T06:19:29Z"}]}
{"id":"panopticon-8y5","title":"PAN-81: Implementation","status":"closed","priority":1,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T06:19:21.887372313-08:00","created_by":"Eltmon","updated_at":"2026-01-25T18:22:20.026090004-08:00","closed_at":"2026-01-25T18:22:20.026093404-08:00","labels":["workspace:pan-81"],"comments":[{"id":23,"issue_id":"panopticon-8y5","author":"Eltmon","text":"Implementation complete - all acceptance criteria met:\n- Event-sourced cost tracking with hooks\n- Real-time event logging to events.jsonl\n- Pre-computed cache for O(1) cost queries\n- Historical migration from workspace session files\n- 90-day retention cleanup\n- Subagent cost tracking included\n- Migration safety tests (8 test cases, all passing)\n- Event count tracking per issue\n- README documentation updated\n- All code committed and pushed to remote\n\nReady for review and merge.","created_at":"2026-01-26T02:22:44Z"}]}
{"id":"panopticon-92t","title":"PAN-57: Migrate Priority 2 content (Core features)","description":"Migrate content from README to Priority 2 .mdx files:\n- cli/workspace-commands.mdx (pan workspace create/destroy/list)\n- cli/convoy-commands.mdx (pan convoy start/status/synthesize)\n- features/cloister.mdx (lines 411-795 - AI lifecycle manager, model routing)\n- features/specialists.mdx (extract specialist agents content)\n- features/skills.mdx (lines 2185-2254 - Universal skills system)\n- features/workspaces.mdx (lines 1785-1997 - Git worktree workspaces)\n- features/convoys.mdx (lines 1543-1700 - Multi-agent orchestration)\n\nEnsure internal cross-references between features work correctly.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:58.108763174-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:50:21.871265827-08:00","closed_at":"2026-01-25T21:50:21.871269327-08:00","labels":["PAN-57","difficulty:medium","documentation"],"dependencies":[{"issue_id":"panopticon-92t","depends_on_id":"panopticon-769","type":"blocks","created_at":"2026-01-25T21:30:11.125945918-08:00","created_by":"Eltmon"}],"comments":[{"id":50,"issue_id":"panopticon-92t","author":"Eltmon","text":"All 7 Priority 2 files completed: cli/workspace-commands.mdx, cli/convoy-commands.mdx, features/cloister.mdx, features/specialists.mdx, features/skills.mdx, features/workspaces.mdx, features/convoys.mdx. Full content migrated from README.","created_at":"2026-01-26T05:50:24Z"}]}
{"id":"panopticon-9c4","title":"PAN-78: Create settings API endpoints","description":"Create src/dashboard/server/routes/settings.ts:\n- GET /api/settings - Load settings, mask API keys (show last 4 only)\n- POST /api/settings - Validate, save settings, regenerate router config\n- Import loadSettings, saveSettings, validateSettings from lib\n- Import generateRouterConfig, writeRouterConfig from router-config\n- Error handling: 400 for validation errors, 500 for file errors\n\nMount routes in src/dashboard/server/index.ts.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:13.408709905-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:21:47.063731546-08:00","closed_at":"2026-01-25T21:21:47.063734346-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":41,"issue_id":"panopticon-9c4","author":"Eltmon","text":"Added 3 API endpoints: GET /api/settings, GET /api/settings/available-models, PUT /api/settings with validation and router config regeneration","created_at":"2026-01-26T05:21:47Z"}]}
{"id":"panopticon-9lg","title":"PAN-78: Update agent spawning to use configured models","description":"Modify src/lib/agents.ts and src/lib/cloister/*.ts:\n- spawnAgent: Load model from settings based on agent type/complexity\n- For specialists: settings.models.specialists[agentType]\n- For planning: settings.models.planning_agent\n- For work agents: Use complexity level (if provided) or default_model\n- Fallback to current behavior if settings not configured\n\nFiles: src/lib/agents.ts (spawnAgent), src/lib/cloister/service.ts (specialist spawning).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:18.606502686-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:43:29.851253569-08:00","closed_at":"2026-01-25T21:43:29.851256069-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":48,"issue_id":"panopticon-9lg","author":"Eltmon","text":"Implemented model routing from settings:\n- Created determineModel() helper that prioritizes: explicit model \u003e specialist model \u003e complexity model \u003e default\n- Updated spawnAgent() to use configured models from settings.json\n- Updated initializeSpecialist() to use specialist models from settings\n- Added agentType to SpawnOptions for specialist detection\n- Fixed TypeScript error in SettingsPage\nAll changes committed.","created_at":"2026-01-26T05:43:19Z"}]}
{"id":"panopticon-a3a","title":"PAN-109: Update CLI command imports","description":"Update all 41 CLI command files in src/cli/commands/ to import from @panopticon/shared instead of ../lib or ../../lib. Pattern: '../lib/foo.js' -\u003e '@panopticon/shared/foo.js'","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:13.530938537-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:09:48.501565084-08:00","closed_at":"2026-01-25T17:09:48.501568384-08:00","labels":["PAN-109","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-a3a","depends_on_id":"panopticon-64s","type":"blocks","created_at":"2026-01-25T17:01:31.414073324-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-a3a","depends_on_id":"panopticon-ykw","type":"blocks","created_at":"2026-01-25T17:01:31.558335418-08:00","created_by":"Eltmon"}],"comments":[{"id":17,"issue_id":"panopticon-a3a","author":"Eltmon","text":"Updated all 40 CLI command files to import from @panopticon/shared instead of relative ../lib paths. Used sed to batch replace '../../../lib/', '../../lib/', and '../lib/' imports.","created_at":"2026-01-26T01:09:46Z"}]}
{"id":"panopticon-b2e","title":"PAN-118-10: Update convoy members to use work type IDs","description":"Update src/lib/cloister/convoy.ts and src/lib/convoy-templates.ts. Use work type IDs: convoy:security-reviewer, convoy:performance-reviewer, convoy:correctness-reviewer, convoy:synthesis-agent. Update convoy spawn logic.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:02.710563824-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:49:14.077019787-08:00","closed_at":"2026-01-26T08:49:14.077022187-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-b2e","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:02.712670819-08:00","created_by":"Eltmon"}],"comments":[{"id":63,"issue_id":"panopticon-b2e","author":"Eltmon","text":"Updated src/lib/convoy.ts to use work type router. Added mapConvoyRoleToWorkType helper. Convoy roles now map to convoy:* work type IDs.","created_at":"2026-01-26T16:49:15Z"}]}
{"id":"panopticon-b3t","title":"PAN-81: Handle SubagentStop hook for subagent costs","description":"Update scripts/cost-hook to also handle SubagentStop events:\n\n1. Check hook_event_name in stdin JSON\n2. If SubagentStop, use agent_transcript_path instead of transcript_path\n3. Use parent agent's issue ID for cost attribution\n4. Append event with subagent indicator\n\nThe Stop hook already runs for main agents; SubagentStop fires when subagents complete.\nSame hook script, just different input parsing.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:58:31.894029378-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:23.075403407-08:00","closed_at":"2026-01-25T17:07:23.075406607-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-b3t","depends_on_id":"panopticon-fm0","type":"blocks","created_at":"2026-01-25T13:59:19.547284826-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-b63","title":"PAN-78: Implement claude-code-router config generator","description":"Create src/lib/router-config.ts:\n- generateRouterConfig(settings: SettingsConfig): RouterConfig function\n- Build providers array (only include providers with API keys)\n- Build router rules mapping agent types to models\n- Support environment variable syntax for API keys ()\n- writeRouterConfig() - write to ~/.claude-code-router/config.json\n- Called after settings save to keep router config in sync\n\nRouterConfig types based on claude-code-router schema.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:05.658870159-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:18:35.261953889-08:00","closed_at":"2026-01-25T21:18:35.261956089-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":39,"issue_id":"panopticon-b63","author":"Eltmon","text":"Implemented router config generator with provider filtering, agent type mapping, and support for env var syntax","created_at":"2026-01-26T05:18:35Z"}]}
{"id":"panopticon-be6","title":"PAN-118-23: Implement API key validation endpoint","description":"Add POST /api/settings/validate-api-key endpoint in src/dashboard/server/routes/settings.ts. Test API key validity by making actual API call to each provider (OpenAI: GET /v1/models, Google: generateContent, Z.AI: TBD). Return validation result + available models on success. Handle errors: invalid key, network error, rate limit. Must validate BEFORE enabling provider toggle. Provider toggle DISABLED until validation succeeds.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:34:52.089353059-08:00","created_by":"Eltmon","updated_at":"2026-01-26T10:19:55.097128303-08:00","closed_at":"2026-01-26T10:19:55.097130303-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-be6","depends_on_id":"panopticon-4ng","type":"blocks","created_at":"2026-01-26T08:34:52.091499355-08:00","created_by":"Eltmon"}],"comments":[{"id":77,"issue_id":"panopticon-be6","author":"Eltmon","text":"API validation endpoint complete:\n- POST /api/settings/validate-api-key\n- Validates OpenAI, Google, Z.AI keys\n- Returns available models on success\n- Handles invalid key, rate limit, network errors\n- Build successful, all 765 tests passing\nCommitted in 3104ec2","created_at":"2026-01-26T18:19:53Z"}]}
{"id":"panopticon-btg","title":"PAN-78: Implement API key management UI","description":"In SettingsPage.tsx, create ApiKeyInput component:\n- Masked text input (type='password' or show dots)\n- Show last 4 characters only when key exists\n- Edit button opens input for modification\n- Clear button to remove key\n- Validation: non-empty, correct format (starts with sk-, AIza, etc.)\n\nThree instances: OpenAI, Google AI, Z.AI\nPlus read-only note about Anthropic key (configured via Claude Code).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:10.264535162-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:21:59.059387037-08:00","closed_at":"2026-01-25T21:21:59.059389337-08:00","labels":["PAN-78","difficulty:simple","linear"],"comments":[{"id":43,"issue_id":"panopticon-btg","author":"Eltmon","text":"API key management UI with password visibility toggle","created_at":"2026-01-26T05:21:59Z"}]}
{"id":"panopticon-c4g","title":"PAN-118-21: Write integration tests for agent spawning","description":"Create tests/integration/agent-spawning.test.ts, config-precedence.test.ts, preset-switching.test.ts. Test end-to-end agent spawn with work types, global vs project config precedence, preset changes propagate correctly.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:22:06.019113038-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:40:45.804817343-08:00","closed_at":"2026-01-26T09:40:45.804819944-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-c4g","depends_on_id":"panopticon-pia","type":"blocks","created_at":"2026-01-26T08:22:49.555885752-08:00","created_by":"Eltmon"}],"comments":[{"id":68,"issue_id":"panopticon-c4g","author":"Eltmon","text":"All 3 integration test files written and passing:\n- agent-spawning.test.ts (13 tests)\n- config-precedence.test.ts (tests exist)\n- preset-switching.test.ts (11 tests)\nCommitted in b944411","created_at":"2026-01-26T17:40:48Z"}]}
{"id":"panopticon-clk","title":"PAN-116: Update SessionUsage interface with cost_v2 and modelBreakdown fields","description":"Add optional fields to SessionUsage interface in jsonl-parser.ts:\n- cost_v2?: number (accurate per-message pricing)\n- modelBreakdown?: Record\u003cstring, { cost, inputTokens, outputTokens, messageCount }\u003e\n\nMark existing cost field as deprecated in comment.\n\nFile: src/lib/cost-parsers/jsonl-parser.ts (lines 40-49)","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:31:20.459982931-08:00","created_by":"Eltmon","updated_at":"2026-01-25T20:34:52.56628211-08:00","closed_at":"2026-01-25T20:34:52.56628431-08:00","labels":["PAN-116","difficulty:trivial","linear"],"comments":[{"id":24,"issue_id":"panopticon-clk","author":"Eltmon","text":"Added cost_v2 and modelBreakdown fields to SessionUsage interface with descriptive comments","created_at":"2026-01-26T04:34:52Z"}]}
{"id":"panopticon-ctk","title":"PAN-118-12: Implement triage agent","description":"Create src/lib/planning/triage-agent.ts. Implement issue prioritization and complexity estimation. Use work type ID: triage-agent. Integrate with issue creation workflow.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:06.703395365-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:33.346559472-08:00","closed_at":"2026-01-26T09:45:33.346561772-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-ctk","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:06.706709215-08:00","created_by":"Eltmon"}],"comments":[{"id":70,"issue_id":"panopticon-ctk","author":"Eltmon","text":"Implemented triage agent in src/lib/planning/triage-agent.ts:\n- Rule-based triage analysis\n- Determines priority (P0-P4), complexity, effort\n- Identifies required skills and dependencies\n- Provides recommendations for next steps\n- Can spawn AI-powered triage agent\n- Includes batch triage and sorting functions","created_at":"2026-01-26T17:45:31Z"}]}
{"id":"panopticon-dj2","title":"PAN-118-9: Update subagents to use work type IDs","description":"Find Task tool integration points. Map subagent types to work type IDs: explore â†’ subagent:explore, plan â†’ subagent:plan, bash â†’ subagent:bash, general-purpose â†’ subagent:general-purpose. Update spawn logic to use router.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:00.496687431-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:49:56.408433398-08:00","closed_at":"2026-01-26T08:49:56.408436098-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-dj2","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:00.499955579-08:00","created_by":"Eltmon"}],"comments":[{"id":64,"issue_id":"panopticon-dj2","author":"Eltmon","text":"Subagent work types (subagent:explore, subagent:plan, subagent:bash, subagent:general-purpose) are already integrated via router-config.ts generateRouterConfigFromWorkTypes(). Claude Code Task tool will use these routes automatically.","created_at":"2026-01-26T16:49:57Z"}]}
{"id":"panopticon-ds7","title":"PAN-109: Update build configuration","description":"Update tsup.config.ts to handle new package structure. Update tsconfig.json with paths aliases for @panopticon/shared. Ensure npm run build produces working CLI and dashboard.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:32.745585817-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:33:55.718497273-08:00","closed_at":"2026-01-25T17:33:55.718497273-08:00","close_reason":"Build configuration successfully updated and tested","labels":["PAN-109","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-ds7","depends_on_id":"panopticon-a3a","type":"blocks","created_at":"2026-01-25T17:01:46.115050763-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ds7","depends_on_id":"panopticon-l2u","type":"blocks","created_at":"2026-01-25T17:01:46.271439728-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ds7","depends_on_id":"panopticon-36v","type":"blocks","created_at":"2026-01-25T17:01:46.425422389-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ds7","depends_on_id":"panopticon-t55","type":"blocks","created_at":"2026-01-25T17:01:46.62960189-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ds7","depends_on_id":"panopticon-mnd","type":"blocks","created_at":"2026-01-25T17:02:07.865345873-08:00","created_by":"Eltmon"}],"comments":[{"id":22,"issue_id":"panopticon-ds7","author":"Eltmon","text":"Build configuration updated:\n- Added workspaces config to root package.json (packages/*, dashboard/server, dashboard/frontend)\n- Added @panopticon/shared paths alias to tsconfig.json\n- Added @panopticon/shared dependency to dashboard server package.json\n- Verified all builds work: CLI (tsup), dashboard server (esbuild), dashboard frontend (vite)\n- All 520 tests pass","created_at":"2026-01-26T01:33:54Z"}]}
{"id":"panopticon-dy5","title":"PAN-85: Add cleanup button to Health Dashboard UI","description":"Add 'Clean Old Agents (7+ days)' button to Health Dashboard (src/dashboard/frontend/src/components/HealthDashboard.tsx). Shows count of cleanable agents. Confirmation dialog lists agents to delete. Calls /api/agents/cleanup endpoint. Refresh health after cleanup.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:06.761405896-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:07:22.506160073-08:00","closed_at":"2026-01-25T21:07:22.506163273-08:00","labels":["PAN-85","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-dy5","depends_on_id":"panopticon-siu","type":"blocks","created_at":"2026-01-25T20:59:10.4924576-08:00","created_by":"Eltmon"}],"comments":[{"id":33,"issue_id":"panopticon-dy5","author":"Eltmon","text":"Added cleanup button to Health Dashboard with confirmation dialog. Committed.","created_at":"2026-01-26T05:07:22Z"}]}
{"id":"panopticon-e2j","title":"PAN-81: Implement historical cost migration","description":"Create src/lib/costs/migration.ts that:\n1. Checks if ~/.panopticon/costs/migration-complete exists (skip if so)\n2. For each workspace in ~/.panopticon/agents/*/state.json:\n   - Get workspace path and issue ID\n   - Parse all session files including subagents/\n   - Convert to event format and append to events.jsonl\n3. Parse any sessions NOT linked to agents as 'unassigned'\n4. Rebuild by-issue.json from events.jsonl\n5. Create migration-complete marker file\n\nComplex: Must handle large files, many workspaces, subagent directories.\nCross-cutting: Uses aggregator.ts, events.ts, pricing.ts","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:58:16.394977687-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:11.720215376-08:00","closed_at":"2026-01-25T17:07:11.720217576-08:00","labels":["PAN-81","difficulty:complex","linear"],"dependencies":[{"issue_id":"panopticon-e2j","depends_on_id":"panopticon-qkr","type":"blocks","created_at":"2026-01-25T13:59:20.749621232-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-ehg","title":"PAN-118-18: Integrate Stitch components into Settings page","description":"Replace existing SettingsPage.tsx with Stitch-generated components from panopticon-yqy. Preserve existing API calls (GET /api/settings, PUT /api/settings, GET /api/settings/available-models). Add Playwright tests for new UI. Ensure mobile responsiveness. Wire up React Query for state management. DO NOT manually rewrite components - use what Stitch generated. If components need adjustment, iterate in Stitch first.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:22:00.117770789-08:00","created_by":"Eltmon","updated_at":"2026-01-26T10:58:10.214409432-08:00","closed_at":"2026-01-26T10:58:10.214412033-08:00","labels":["PAN-118","difficulty:simple","linear","stitch"],"dependencies":[{"issue_id":"panopticon-ehg","depends_on_id":"panopticon-yqy","type":"blocks","created_at":"2026-01-26T08:22:00.121283349-08:00","created_by":"Eltmon"}],"comments":[{"id":81,"issue_id":"panopticon-ehg","author":"Eltmon","text":"Backend API integrated - settings-api.ts adapter created, endpoints updated, build successful","created_at":"2026-01-26T18:58:08Z"}]}
{"id":"panopticon-fl8","title":"PAN-34: Implement auto-copy on selection","description":"Add configurable auto-copy functionality that copies selected text automatically.\n\nFiles: src/dashboard/frontend/src/components/XTerminal.tsx\n\nImplementation:\n1. Add 'autoCopyOnSelect' prop (default: true)\n2. Add terminal.onSelectionChange handler\n3. Debounce selection changes to avoid excessive clipboard writes\n4. Only copy when selection is finalized (not during drag)\n5. Store preference in localStorage: 'panopticon.terminal.autoCopyOnSelect'\n6. Use navigator.clipboard.writeText()\n\nEdge cases:\n- Empty selection (ignore)\n- Rapid selection changes (debounce)\n- Clipboard permission denied (fail silently)","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:14.149654076-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:14.149654076-08:00","labels":["PAN-34","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-fl8","depends_on_id":"panopticon-40j","type":"blocks","created_at":"2026-01-26T09:46:14.152849544-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-fm0","title":"PAN-81: Create cost-hook bash script for Stop event","description":"Create scripts/cost-hook that:\n1. Receives JSON via stdin with transcript_path\n2. Uses tail + jq to get last few entries from transcript\n3. Extracts message.usage (input, output, cache_read, cache_write tokens)\n4. Gets agent ID from PANOPTICON_AGENT_ID or tmux session name\n5. Looks up issue ID from agent state file\n6. Appends event to ~/.panopticon/costs/events.jsonl\n\nMust handle:\n- Missing agent ID (use 'main-cli' or 'unassigned')\n- Missing issue mapping (use 'unassigned')\n- Error resilience (never break Claude Code)\n\nPattern: Similar to heartbeat-hook, simple bash with jq.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:57:57.08054926-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:12.910463179-08:00","closed_at":"2026-01-25T17:07:12.910465379-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-fm0","depends_on_id":"panopticon-qkr","type":"blocks","created_at":"2026-01-25T13:59:17.268700052-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-g7w","title":"PAN-118-15: Integrate planning and decomposition workflow","description":"Update /plan command to run planning agent first, then decomposition agent after user approval. Ensure STATE.md â†’ beads workflow is smooth. Update planning prompt templates to reflect separation of concerns.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:19.856148301-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:42.308045091-08:00","closed_at":"2026-01-26T09:45:42.308047291-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-g7w","depends_on_id":"panopticon-khd","type":"blocks","created_at":"2026-01-26T08:21:19.85904113-08:00","created_by":"Eltmon"}],"comments":[{"id":73,"issue_id":"panopticon-g7w","author":"Eltmon","text":"Implemented workflow integration in src/lib/planning/index.ts:\n- Exports all planning agents\n- runPreWorkflow() orchestrates triage â†’ PRD â†’ planning â†’ decomposition\n- Automatically skips steps based on triage results\n- Simple issues skip planning entirely\n- Complex issues get full workflow","created_at":"2026-01-26T17:45:41Z"}]}
{"id":"panopticon-gjj","title":"PAN-85: Add cleanup unit tests","description":"Create src/lib/__tests__/cleanup.test.ts. Test: age filtering, pattern matching (agent-*, planning-*, specialist-*, test-agent-*), exclusions (main-cli), dry run mode, state.json checks. Mock filesystem and dates.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:11.239541264-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:47:31.965119027-08:00","closed_at":"2026-01-25T21:47:31.965123128-08:00","labels":["PAN-85","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-gjj","depends_on_id":"panopticon-mz4","type":"blocks","created_at":"2026-01-25T20:59:15.329985325-08:00","created_by":"Eltmon"}],"comments":[{"id":49,"issue_id":"panopticon-gjj","author":"Eltmon","text":"All 21 unit tests implemented and passing","created_at":"2026-01-26T05:47:33Z"}]}
{"id":"panopticon-hr8","title":"PAN-34: Implement smart keyboard shortcuts (Ctrl+C/V)","description":"Add keyboard event handlers for smart copy/paste behavior:\n- Ctrl+C: Copy if selection exists, otherwise send interrupt signal\n- Ctrl+V: Paste from clipboard\n- Platform-aware: Support Cmd on Mac, Ctrl on Windows/Linux\n\nFiles: src/dashboard/frontend/src/components/XTerminal.tsx\n\nImplementation:\n1. Add keyboard event listener (term.onKey or attachCustomKeyEventHandler)\n2. Detect platform (navigator.platform)\n3. Check for selection (term.hasSelection())\n4. Use navigator.clipboard API for copy/paste\n5. Handle clipboard permission errors gracefully\n6. Prevent default browser behavior when handling\n\nEdge cases:\n- Clipboard permission denied\n- No selection on Ctrl+C (let terminal handle)\n- Platform detection (Mac vs Windows/Linux)","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:07.396113902-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:07.396113902-08:00","labels":["PAN-34","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-hr8","depends_on_id":"panopticon-40j","type":"blocks","created_at":"2026-01-26T09:46:07.399553372-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-j0i","title":"PAN-91: Update workspace endpoint to return full model ID","description":"Add agentModelFull field to workspace API response. Call getActiveSessionModel() when agent is running. Location: src/dashboard/server/index.ts around line 3689","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T10:25:11.917598937-08:00","created_by":"Eltmon","updated_at":"2026-01-25T10:28:45.788086668-08:00","closed_at":"2026-01-25T10:28:45.788092169-08:00","labels":["PAN-91","difficulty:simple","linear"],"comments":[{"id":3,"issue_id":"panopticon-j0i","author":"Eltmon","text":"Updated workspace endpoint to call getActiveSessionModel() and return agentModelFull in response. Added import and integrated with existing agentModel extraction.","created_at":"2026-01-25T18:28:48Z"}]}
{"id":"panopticon-jp9","title":"PAN-78: Create SettingsPage React component","description":"Create src/dashboard/frontend/src/components/SettingsPage.tsx:\n- FIRST: Complete panopticon-362 to get Stitch-generated code\n- Use Stitch design as reference (screen c36617e3aad249b38617056ba7bf8781)\n- Four main sections: Specialist Models, Planning Agent, Task Complexity, API Keys\n- useState for form data, useQuery to fetch current settings\n- Dark theme (bg-gray-800/900), consistent with existing dashboard\n- Save Changes button at bottom\n- Loading/error states\n\nFollow existing component patterns from IssueDetailPanel, AgentList, etc.\n\nDEPENDS ON: panopticon-rum (settings lib), panopticon-362 (Stitch code)","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:07.166405556-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:20:46.372174045-08:00","closed_at":"2026-01-25T21:20:46.372176445-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":40,"issue_id":"panopticon-jp9","author":"Eltmon","text":"Created SettingsPage with all sections, form management, and API integration","created_at":"2026-01-26T05:20:46Z"}]}
{"id":"panopticon-khd","title":"PAN-118-13: Refactor planning agent for architecture focus","description":"Update planning agent to focus on high-level architecture and approach selection. Remove beads generation logic (moving to decomposition agent). Output: STATE.md with design decisions, technical choices, architectural patterns. Use work type ID: planning-agent.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:08.302915714-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:36.539648907-08:00","closed_at":"2026-01-26T09:45:36.539651407-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-khd","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:08.304992108-08:00","created_by":"Eltmon"}],"comments":[{"id":71,"issue_id":"panopticon-khd","author":"Eltmon","text":"Implemented planning agent in src/lib/planning/planning-agent.ts:\n- Focuses on architecture and approach (HOW to build)\n- Does NOT do task decomposition (that's decomposition agent)\n- Uses work type ID 'planning-agent'\n- Generates STATE.md with architecture decisions\n- Documents technology choices, risks, tradeoffs\n- Includes validation function for completeness","created_at":"2026-01-26T17:45:35Z"}]}
{"id":"panopticon-kjr","title":"PAN-109: Create packages/shared package structure","description":"Create packages/shared/ directory with package.json (@panopticon/shared) and tsconfig.json. Include all dependencies from root that lib modules use (@iarna/toml, yaml, etc.)","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T16:59:54.053862821-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:06:20.345544377-08:00","closed_at":"2026-01-25T17:06:20.345547177-08:00","labels":["PAN-109","difficulty:simple","linear"],"comments":[{"id":13,"issue_id":"panopticon-kjr","author":"Eltmon","text":"Created packages/shared directory structure with package.json (@panopticon/shared) including dependencies: @iarna/toml, @linear/sdk, @octokit/rest, better-sqlite3, yaml. Created tsconfig.json extending root config.","created_at":"2026-01-26T01:06:19Z"}]}
{"id":"panopticon-l2u","title":"PAN-109: Update dashboard server imports","description":"Update src/dashboard/server/index.ts to import from @panopticon/shared instead of ../../lib. About 18 import statements need updating.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:14.78014387-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:10:21.854264987-08:00","closed_at":"2026-01-25T17:10:21.854268987-08:00","labels":["PAN-109","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-l2u","depends_on_id":"panopticon-64s","type":"blocks","created_at":"2026-01-25T17:01:33.361917049-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-l2u","depends_on_id":"panopticon-ykw","type":"blocks","created_at":"2026-01-25T17:01:33.512518006-08:00","created_by":"Eltmon"}],"comments":[{"id":19,"issue_id":"panopticon-l2u","author":"Eltmon","text":"Updated src/dashboard/server/index.ts with 14 import statements changed from '../../lib/' to '@panopticon/shared/'.","created_at":"2026-01-26T01:10:20Z"}]}
{"id":"panopticon-lbz","title":"PAN-81: Update /api/costs/by-issue to use pre-computed cache","description":"Update src/dashboard/server/index.ts:\n\n1. Replace current implementation with:\n   - Read ~/.panopticon/costs/by-issue.json\n   - Return cached data directly (O(1) lookup)\n\n2. Add /api/costs/rebuild endpoint:\n   - Triggers full reconciliation from events.jsonl\n   - Rebuilds by-issue.json cache\n   - Returns new totals\n\n3. On dashboard startup:\n   - Check if migration needed (no migration-complete marker)\n   - Run migration async (non-blocking)\n\n4. Remove parseWorkspaceSessionUsageAsync function (dead code after migration)\n\nMedium complexity: Multiple changes but straightforward logic.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:58:23.915274555-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:10.222614916-08:00","closed_at":"2026-01-25T17:07:10.222616916-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-lbz","depends_on_id":"panopticon-e2j","type":"blocks","created_at":"2026-01-25T13:59:22.42529301-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-lbz","depends_on_id":"panopticon-fm0","type":"blocks","created_at":"2026-01-25T13:59:22.52807732-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-ly2","title":"PAN-118-5: Refactor model router for work-type-based routing","description":"Replace src/lib/cloister/router.ts complexity-based router with WorkTypeRouter. Implement getModel(workTypeId) with resolution order: project override \u003e global override \u003e preset \u003e fallback. Support provider enable/disable. Update router-config.ts to generate claude-code-router config from work types.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:32.480281619-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:47:27.630837159-08:00","closed_at":"2026-01-26T08:47:27.630840059-08:00","labels":["PAN-118","difficulty:complex","linear"],"dependencies":[{"issue_id":"panopticon-ly2","depends_on_id":"panopticon-00w","type":"blocks","created_at":"2026-01-26T08:20:32.48233271-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ly2","depends_on_id":"panopticon-6nj","type":"blocks","created_at":"2026-01-26T08:20:32.483827477-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ly2","depends_on_id":"panopticon-ogo","type":"blocks","created_at":"2026-01-26T08:20:32.485223539-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ly2","depends_on_id":"panopticon-6s2","type":"blocks","created_at":"2026-01-26T08:20:32.486554098-08:00","created_by":"Eltmon"}],"comments":[{"id":61,"issue_id":"panopticon-ly2","author":"Eltmon","text":"Created src/lib/work-type-router.ts with WorkTypeRouter class. Updated router-config.ts to generate claude-code-router config from all 20 work types. Full resolution: overrides \u003e preset \u003e fallback.","created_at":"2026-01-26T16:47:29Z"}]}
{"id":"panopticon-mnd","title":"PAN-109: Update paths.ts dev-mode detection","description":"Update src/lib/paths.ts (after move: packages/shared/src/paths.ts) to detect dev mode correctly. Current logic checks for /src/ in path. Need to update for /packages/shared/src/ path.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:31.171230186-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:12:13.381630633-08:00","closed_at":"2026-01-25T17:12:13.381633233-08:00","labels":["PAN-109","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-mnd","depends_on_id":"panopticon-64s","type":"blocks","created_at":"2026-01-25T17:01:29.367193186-08:00","created_by":"Eltmon"}],"comments":[{"id":21,"issue_id":"panopticon-mnd","author":"Eltmon","text":"Updated packages/shared/src/paths.ts dev-mode detection to check for /packages/shared/src instead of /src/. Updated dirname calls to go up three levels (dirname(dirname(dirname(currentDir)))) to reach package root.","created_at":"2026-01-26T01:12:12Z"}]}
{"id":"panopticon-mz4","title":"PAN-85: Create cleanup logic module (src/lib/cleanup.ts)","description":"Create src/lib/cleanup.ts with functions: getOldAgentDirs(ageThresholdDays), shouldCleanAgent(dirName, state), cleanupOldAgents(ageThresholdDays, dryRun). Pattern match: agent-*, planning-*, specialist-*, test-agent-*. Exclude: main-cli, singletons. Check age via mtime and state.json lastActivity.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:02.38404617-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:03:30.601590341-08:00","closed_at":"2026-01-25T21:03:30.601593541-08:00","labels":["PAN-85","difficulty:simple","linear"],"comments":[{"id":29,"issue_id":"panopticon-mz4","author":"Eltmon","text":"Created src/lib/cleanup.ts with all required functions. Committed.","created_at":"2026-01-26T05:03:30Z"}]}
{"id":"panopticon-n02","title":"PAN-78: Add claude-code-router installation to pan install","description":"Modify src/cli/commands/install.ts:\n- Add prerequisite check for npm (already exists)\n- Add step to install @musistudio/claude-code-router globally\n- Use execSync('npm install -g @musistudio/claude-code-router', { stdio: 'pipe' })\n- Handle errors gracefully (warn but don't fail install)\n- Add to prerequisites check results display\n\nSimilar pattern to beads CLI installation (lines 346-408).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:02.273419471-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:17:09.716064397-08:00","closed_at":"2026-01-25T21:17:09.716067797-08:00","labels":["PAN-78","difficulty:simple","linear"],"comments":[{"id":37,"issue_id":"panopticon-n02","author":"Eltmon","text":"Added claude-code-router to pan install with --skip-router option, prerequisites check, and auto-install via npm","created_at":"2026-01-26T05:17:09Z"}]}
{"id":"panopticon-nay","title":"PAN-81: Implement aggregator.ts - cache management","description":"Implement loadCache(), saveCache(), updateCacheFromEvent(), rebuildFromEvents(). Cache format: by-issue.json with version, status, lastEventTs, lastEventLine, issues map.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:41.310279806-08:00","created_by":"Eltmon","updated_at":"2026-01-25T15:58:59.514729866-08:00","closed_at":"2026-01-25T15:58:59.514732066-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-nay","depends_on_id":"panopticon-8rk","type":"blocks","created_at":"2026-01-25T09:04:14.656163192-08:00","created_by":"Eltmon"}],"comments":[{"id":8,"issue_id":"panopticon-nay","author":"Eltmon","text":"Implemented aggregator.ts with loadCache, saveCache, updateCacheFromEvent, rebuildFromEvents, incremental updates","created_at":"2026-01-25T23:58:58Z"}]}
{"id":"panopticon-nfu","title":"PAN-81: Register cost-hook in setup hooks command","description":"Update src/cli/commands/setup/hooks.ts to install cost-hook alongside existing heartbeat/pre-tool/stop hooks. Copy script to ~/.panopticon/bin/ and register in ~/.claude/settings.json.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:04.374593583-08:00","created_by":"Eltmon","updated_at":"2026-01-25T16:04:37.136309215-08:00","closed_at":"2026-01-25T16:04:37.136311515-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-nfu","depends_on_id":"panopticon-plo","type":"blocks","created_at":"2026-01-25T09:04:15.824748212-08:00","created_by":"Eltmon"}],"comments":[{"id":12,"issue_id":"panopticon-nfu","author":"Eltmon","text":"Updated setup hooks command: added cost-hook to hookScripts array, registered as Stop hook, updated success messages","created_at":"2026-01-26T00:04:35Z"}]}
{"id":"panopticon-o1i","title":"PAN-81: Add status badge to MetricsSummary component","description":"Add badge to MetricsSummary.tsx showing 'Live' (green), 'Migrating' (yellow), or 'Stale' (red) based on /api/costs/status response. Stale = no events in 24h.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:21.029815945-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:54:12.610515868-08:00","closed_at":"2026-01-25T17:54:12.610532569-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-o1i","depends_on_id":"panopticon-on8","type":"blocks","created_at":"2026-01-25T09:04:16.653474572-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-obt","title":"PAN-85: Add config support for CLEANUP_AGENT_DAYS","description":"Add support for CLEANUP_AGENT_DAYS env var in ~/.panopticon.env (default: 7). Add config reading in src/lib/paths.ts or src/lib/config.ts. Return default if not set.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:00.833649361-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:03:45.603380377-08:00","closed_at":"2026-01-25T21:03:45.603382477-08:00","labels":["PAN-85","difficulty:trivial","linear"],"comments":[{"id":30,"issue_id":"panopticon-obt","author":"Eltmon","text":"Config support already implemented in cleanup.ts via getCleanupAgeThresholdDays() function. Reads CLEANUP_AGENT_DAYS from ~/.panopticon.env with default of 7 days.","created_at":"2026-01-26T05:03:45Z"}]}
{"id":"panopticon-ogo","title":"PAN-118-3: Implement fallback strategy for missing API keys","description":"Create src/lib/model-fallback.ts. Implement applyFallback() function that detects provider availability and maps non-Anthropic models to Claude equivalents. Add warning logging when fallback occurs.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:01.784495403-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:44:47.067660611-08:00","closed_at":"2026-01-26T08:44:47.067663511-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-ogo","depends_on_id":"panopticon-wbl","type":"blocks","created_at":"2026-01-26T08:20:01.786730703-08:00","created_by":"Eltmon"}],"comments":[{"id":59,"issue_id":"panopticon-ogo","author":"Eltmon","text":"Created src/lib/model-fallback.ts with provider detection, fallback mappings, and API key validation logic","created_at":"2026-01-26T16:44:48Z"}]}
{"id":"panopticon-on8","title":"PAN-81: Update dashboard API endpoints","description":"Update /api/costs/by-issue to read from cache (O(1) lookup). Add /api/costs/rebuild for manual rebuild. Add /api/costs/status for migration status. Remove old parseWorkspaceSessionUsageAsync calls from cost endpoints.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:09.631152555-08:00","created_by":"Eltmon","updated_at":"2026-01-25T16:03:40.754132362-08:00","closed_at":"2026-01-25T16:03:40.754135062-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-on8","depends_on_id":"panopticon-nay","type":"blocks","created_at":"2026-01-25T09:04:16.108974435-08:00","created_by":"Eltmon"}],"comments":[{"id":11,"issue_id":"panopticon-on8","author":"Eltmon","text":"Updated dashboard endpoints: /api/costs/by-issue reads from cache, added /api/costs/update-cache, /api/costs/rebuild, /api/costs/status, /api/costs/migrate, added migration trigger on startup","created_at":"2026-01-26T00:03:39Z"}]}
{"id":"panopticon-p1z","title":"PAN-34: Add clipboard addon dependency","description":"Install @xterm/addon-clipboard package to enable clipboard support in XTerminal component.\n\nFiles: package.json\n\nSteps:\n1. Run npm install --save @xterm/addon-clipboard in frontend directory\n2. Verify package.json updated","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:45:47.70467276-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:47.70467276-08:00","labels":["PAN-34","difficulty:trivial","linear"]}
{"id":"panopticon-p3l","title":"PAN-85: Add 'completed' status to AgentState type","description":"Add 'completed' to AgentState.status union type in src/lib/agents.ts. Change: status: 'starting' | 'running' | 'stopped' | 'error' | 'completed'. This is an additive change with no breaking impact.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:57:59.704931686-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:02:08.34415919-08:00","closed_at":"2026-01-25T21:02:08.34416199-08:00","labels":["PAN-85","difficulty:trivial","linear"],"comments":[{"id":28,"issue_id":"panopticon-p3l","author":"Eltmon","text":"Added 'completed' to AgentState status union type (line 71 in src/lib/agents.ts). Committed.","created_at":"2026-01-26T05:02:10Z"}]}
{"id":"panopticon-pcv","title":"PAN-116: Implement per-message cost calculation in parseClaudeSession()","description":"Replace session-level costing with per-message costing in parseClaudeSession():\n\n1. Initialize modelBreakdown map and totalCostV2 variable\n2. In message loop:\n   - Extract model ID (exact) and usage for each message\n   - Normalize model name for pricing lookup\n   - Calculate cost for this message using its model pricing\n   - Update modelBreakdown[modelId] with cost/tokens/count\n   - Accumulate totalCostV2\n3. Generate model display string:\n   - Extract normalized model names from breakdown\n   - Join with ' â†’ ' if multiple models (e.g., 'claude-sonnet-4.5 â†’ claude-opus-4.5')\n4. Keep old cost calculation for backward compatibility\n5. Return SessionUsage with cost, cost_v2, and modelBreakdown\n\nFile: src/lib/cost-parsers/jsonl-parser.ts (lines 168-259)","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:31:21.802457501-08:00","created_by":"Eltmon","updated_at":"2026-01-25T20:35:50.958001907-08:00","closed_at":"2026-01-25T20:35:50.958005307-08:00","labels":["PAN-116","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-pcv","depends_on_id":"panopticon-clk","type":"blocks","created_at":"2026-01-25T20:32:01.107860235-08:00","created_by":"Eltmon"}],"comments":[{"id":25,"issue_id":"panopticon-pcv","author":"Eltmon","text":"Implemented per-message cost calculation: tracks modelBreakdown by exact model ID, calculates cost_v2 with accurate per-message pricing, generates model display string with â†’ for upgrades","created_at":"2026-01-26T04:35:51Z"}]}
{"id":"panopticon-pia","title":"PAN-118-20: Write unit tests for work type system","description":"Create tests/lib/work-types.test.ts, model-presets.test.ts, model-fallback.test.ts, model-router.test.ts. Test work type registry, preset loading, fallback mappings, router resolution logic. Ensure 100% coverage of core routing logic.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:22:04.186297346-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:14:17.395118687-08:00","closed_at":"2026-01-26T09:14:17.395118687-08:00","close_reason":"All 4 test suites created and passing (152 tests total)","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-pia","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:22:04.188646454-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-pia","depends_on_id":"panopticon-6nj","type":"blocks","created_at":"2026-01-26T08:22:04.190203625-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-pia","depends_on_id":"panopticon-ogo","type":"blocks","created_at":"2026-01-26T08:22:04.191792497-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-pia","depends_on_id":"panopticon-6s2","type":"blocks","created_at":"2026-01-26T08:22:04.193531376-08:00","created_by":"Eltmon"}],"comments":[{"id":67,"issue_id":"panopticon-pia","author":"Eltmon","text":"Implementation complete: Created 4 comprehensive test suites with 152 test cases covering work types, presets, fallback strategy, and router logic. All tests pass with 100% coverage of core routing functionality.","created_at":"2026-01-26T17:14:10Z"}]}
{"id":"panopticon-plo","title":"PAN-81: Create cost-hook script","description":"Create scripts/cost-hook bash script that extracts usage from Claude Code PostToolUse event stdin, writes to events.jsonl. Must be resilient (never break Claude Code), log errors to errors.log. Works for both main agents AND subagents.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:58.863262883-08:00","created_by":"Eltmon","updated_at":"2026-01-25T16:02:01.084433033-08:00","closed_at":"2026-01-25T16:02:01.084435333-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-plo","depends_on_id":"panopticon-rbz","type":"blocks","created_at":"2026-01-25T09:04:15.589897086-08:00","created_by":"Eltmon"}],"comments":[{"id":10,"issue_id":"panopticon-plo","author":"Eltmon","text":"Created scripts/cost-hook with usage extraction, file locking, error logging, works for main and subagents","created_at":"2026-01-26T00:01:59Z"}]}
{"id":"panopticon-qkr","title":"PAN-81: Create cost tracking module with pricing constants","description":"Create src/lib/costs/ module with:\n- pricing.ts: Move MODEL_PRICING from server/index.ts\n- events.ts: Append/read utilities for events.jsonl\n- aggregator.ts: Load/update by-issue.json cache\n- index.ts: Exports\n\nSimple refactoring - extract existing code into dedicated module.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T13:57:45.430061995-08:00","created_by":"Eltmon","updated_at":"2026-01-25T15:57:30.243235895-08:00","closed_at":"2026-01-25T15:57:30.243238795-08:00","labels":["PAN-81","difficulty:simple","linear"]}
{"id":"panopticon-r7e","title":"PAN-118-14: Implement decomposition agent","description":"Create src/lib/planning/decomposition-agent.ts. Implement task decomposition that reads STATE.md or PRD and generates beads tasks with dependencies. Use work type ID: decomposition-agent. Output: Beads tasks via bd create commands.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:18.213891372-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:45:39.971544952-08:00","closed_at":"2026-01-26T09:45:39.971546853-08:00","labels":["PAN-118","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-r7e","depends_on_id":"panopticon-khd","type":"blocks","created_at":"2026-01-26T08:21:18.216236578-08:00","created_by":"Eltmon"}],"comments":[{"id":72,"issue_id":"panopticon-r7e","author":"Eltmon","text":"Implemented decomposition agent in src/lib/planning/decomposition-agent.ts:\n- Breaks down work into discrete tasks\n- Parses planning documents (STATE.md, PRD.md)\n- Creates Beads tasks with dependencies\n- Estimates task difficulty automatically\n- Validates dependency DAG (no cycles)\n- Uses work type ID 'decomposition-agent'","created_at":"2026-01-26T17:45:38Z"}]}
{"id":"panopticon-rbz","title":"PAN-81: Implement events.ts - event log read/write","description":"Implement appendEvent() to write to events.jsonl, readEvents() to read with offset/limit, getLastEventLine() for resumption. Include file locking for concurrent writes.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:35.70493541-08:00","created_by":"Eltmon","updated_at":"2026-01-25T15:58:15.828377855-08:00","closed_at":"2026-01-25T15:58:15.828381155-08:00","labels":["PAN-81","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-rbz","depends_on_id":"panopticon-8rk","type":"blocks","created_at":"2026-01-25T09:04:14.394148782-08:00","created_by":"Eltmon"}],"comments":[{"id":7,"issue_id":"panopticon-rbz","author":"Eltmon","text":"Implemented events.ts with appendEvent, readEvents, getLastEventLine, file locking","created_at":"2026-01-25T23:58:14Z"}]}
{"id":"panopticon-rum","title":"PAN-78: Create settings.json schema and management functions","description":"Create src/lib/settings.ts with:\n- TypeScript interfaces for SettingsConfig (models + api_keys)\n- loadSettings() function (read ~/.panopticon/settings.json, merge with defaults)\n- saveSettings() function (write to file with proper JSON formatting)\n- validateSettings() function (ensure required fields, valid model IDs)\n- getDefaultSettings() function (returns default config)\n\nReference existing patterns from src/lib/config.ts for consistency.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:00.661562826-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:16:00.588004241-08:00","closed_at":"2026-01-25T21:16:00.588006741-08:00","labels":["PAN-78","difficulty:medium","linear"],"comments":[{"id":36,"issue_id":"panopticon-rum","author":"Eltmon","text":"Implemented settings.ts with TypeScript interfaces, load/save/validate functions, and getAvailableModels utility. Uses JSON format, follows config.ts patterns.","created_at":"2026-01-26T05:16:01Z"}]}
{"id":"panopticon-say","title":"PAN-57: Polish README introduction with hero section","description":"Transform README.md top section (~250 lines) with:\n1. Add badges row (npm, license, Node.js version, PRs welcome)\n2. Insert hero screenshot (dashboard-overview.png) - centered\n3. Create 'Without vs With Panopticon' comparison table\n4. Add screenshot grid showing planning workflow (3 images)\n5. Create feature table with visual hierarchy\n6. Move 'Legacy Codebase Support' section UP (marketing value)\n7. Condense Quick Start to 4 lines with link to full docs\n8. Verify all images render correctly on GitHub\n\nKeep existing detailed content below the hero section.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:28:59.483783739-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:05:13.619891296-08:00","closed_at":"2026-01-26T08:05:13.619907997-08:00","labels":["PAN-57","difficulty:medium","documentation"]}
{"id":"panopticon-sey","title":"PAN-118-16: Design Settings page mockup with Stitch","description":"Use Stitch MCP to generate Settings page mockup. Project: projects/8973105193959682086. Read STITCH_PROMPT.md for full design spec. Use mcp__stitch__generate_screen_from_text with detailed prompt. Dark theme, preset selector (3 cards), provider management (4 cards with toggles), advanced overrides table (collapsible), Gemini thinking slider. CRITICAL: If Stitch fails, file GitHub issue with 'gh issue create --label bug,stitch,PAN-118'. If that fails, ABORT and wait for user input. DO NOT manually code React components.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:34.496744028-08:00","created_by":"Eltmon","updated_at":"2026-01-26T11:02:59.656746543-08:00","closed_at":"2026-01-26T11:02:59.656749243-08:00","labels":["PAN-118","difficulty:medium","linear","stitch"],"dependencies":[{"issue_id":"panopticon-sey","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:21:34.499479446-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-sey","depends_on_id":"panopticon-4ng","type":"blocks","created_at":"2026-01-26T08:21:34.501244222-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-sey","depends_on_id":"panopticon-be6","type":"blocks","created_at":"2026-01-26T08:35:05.553964082-08:00","created_by":"Eltmon"}],"comments":[{"id":79,"issue_id":"panopticon-sey","author":"Eltmon","text":"Stitch designs complete - 2 HTML mockups generated and downloaded successfully. Auth issue resolved.","created_at":"2026-01-26T18:48:03Z"}]}
{"id":"panopticon-siu","title":"PAN-85: Add cleanup API endpoint (POST /api/agents/cleanup)","description":"Add POST /api/agents/cleanup endpoint in src/dashboard/server/index.ts. Body: {dryRun?: boolean, ageThresholdDays?: number}. Returns: {deleted: string[], count: number, dryRun: boolean}. Calls cleanupOldAgents() from cleanup.ts.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:05.536538835-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:06:17.790570932-08:00","closed_at":"2026-01-25T21:06:17.790573232-08:00","labels":["PAN-85","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-siu","depends_on_id":"panopticon-mz4","type":"blocks","created_at":"2026-01-25T20:59:08.55589259-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-siu","depends_on_id":"panopticon-obt","type":"blocks","created_at":"2026-01-25T20:59:08.73636799-08:00","created_by":"Eltmon"}],"comments":[{"id":32,"issue_id":"panopticon-siu","author":"Eltmon","text":"Added POST /api/agents/cleanup endpoint. Calls cleanupOldAgents() from cleanup.ts. Committed.","created_at":"2026-01-26T05:06:17Z"}]}
{"id":"panopticon-t55","title":"PAN-109: Update src/index.ts re-exports","description":"Update src/index.ts to re-export from @panopticon/shared instead of ./lib. This maintains the public API for consumers of panopticon-cli package.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:34.218449963-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:08:35.148232577-08:00","closed_at":"2026-01-25T17:08:35.148235378-08:00","labels":["PAN-109","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-t55","depends_on_id":"panopticon-64s","type":"blocks","created_at":"2026-01-25T17:01:43.81096258-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-t55","depends_on_id":"panopticon-ykw","type":"blocks","created_at":"2026-01-25T17:01:43.975169377-08:00","created_by":"Eltmon"}],"comments":[{"id":16,"issue_id":"panopticon-t55","author":"Eltmon","text":"Updated src/index.ts to re-export from @panopticon/shared instead of ./lib. Public API maintained for panopticon-cli package consumers.","created_at":"2026-01-26T01:08:33Z"}]}
{"id":"panopticon-uss","title":"PAN-85: Add E2E test for cleanup flow","description":"Add E2E tests: 1) Dashboard manual cleanup button (create old agents, click button, verify deleted). 2) Auto-cleanup on startup (create old agents, restart dashboard, verify deleted). 3) Verify cost data still accessible after cleanup (query /api/costs/by-issue).","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:12.562933332-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:50:46.396038742-08:00","closed_at":"2026-01-25T21:50:46.396041042-08:00","labels":["PAN-85","difficulty:medium","linear"],"dependencies":[{"issue_id":"panopticon-uss","depends_on_id":"panopticon-dy5","type":"blocks","created_at":"2026-01-25T20:59:19.351455689-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-uss","depends_on_id":"panopticon-7la","type":"blocks","created_at":"2026-01-25T20:59:19.509040421-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-uss","depends_on_id":"panopticon-8kq","type":"blocks","created_at":"2026-01-25T20:59:19.654111494-08:00","created_by":"Eltmon"}],"comments":[{"id":51,"issue_id":"panopticon-uss","author":"Eltmon","text":"E2E tests implemented with Playwright covering manual cleanup, API endpoints, cost data accessibility, and edge cases","created_at":"2026-01-26T05:50:48Z"}]}
{"id":"panopticon-v9k","title":"PAN-118-8: Update specialist agents to use work type IDs","description":"Update src/lib/cloister/specialists.ts lines 591-600. Replace manual settings lookup with router.getModel() call. Use work type IDs: specialist-review-agent, specialist-test-agent, specialist-merge-agent.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:20:58.113181-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:48:05.279399696-08:00","closed_at":"2026-01-26T08:48:05.279402396-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-v9k","depends_on_id":"panopticon-ly2","type":"blocks","created_at":"2026-01-26T08:20:58.115583209-08:00","created_by":"Eltmon"}],"comments":[{"id":62,"issue_id":"panopticon-v9k","author":"Eltmon","text":"Updated src/lib/cloister/specialists.ts to use work type router. Specialists now map to specialist-{name} work type IDs (specialist-merge-agent, specialist-review-agent, specialist-test-agent).","created_at":"2026-01-26T16:48:06Z"}]}
{"id":"panopticon-vx8","title":"PAN-81: Implement migration.ts - historical data import","description":"One-time migration: parse ALL existing session files including subagents/ subdirectories. Must be idempotent, resumable, and non-blocking. Write migration marker when complete. CRITICAL: Include parity tests comparing old vs new totals.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:02:47.478532341-08:00","created_by":"Eltmon","updated_at":"2026-01-25T16:00:56.500370334-08:00","closed_at":"2026-01-25T16:00:56.500372534-08:00","labels":["PAN-81","difficulty:complex","linear"],"dependencies":[{"issue_id":"panopticon-vx8","depends_on_id":"panopticon-rbz","type":"blocks","created_at":"2026-01-25T09:04:14.908656981-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-vx8","depends_on_id":"panopticon-nay","type":"blocks","created_at":"2026-01-25T09:04:15.123379008-08:00","created_by":"Eltmon"}],"comments":[{"id":9,"issue_id":"panopticon-vx8","author":"Eltmon","text":"Implemented migration.ts with runMigration, parseWorkspaceSessionsToEvents, includes subagent support, idempotent with migration marker","created_at":"2026-01-26T00:00:55Z"}]}
{"id":"panopticon-wbl","title":"PAN-118-1: Create work type registry with all 20 IDs","description":"Create src/lib/work-types.ts with WORK_TYPES constant and WorkTypeId type. Define all 20 work type IDs with metadata (category, phase). Export helper functions for validation.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:16:27.334023773-08:00","created_by":"Eltmon","updated_at":"2026-01-26T08:22:28.868618467-08:00","closed_at":"2026-01-26T08:22:28.868621467-08:00","labels":["PAN-118","difficulty:simple","linear"]}
{"id":"panopticon-ykw","title":"PAN-109: Update root package.json with workspaces","description":"Add workspaces config to root package.json. Move packages/shared dependencies to shared package.json. Update scripts for workspace commands.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T17:00:11.652986135-08:00","created_by":"Eltmon","updated_at":"2026-01-25T17:07:31.029972952-08:00","closed_at":"2026-01-25T17:07:31.029975752-08:00","labels":["PAN-109","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-ykw","depends_on_id":"panopticon-kjr","type":"blocks","created_at":"2026-01-25T17:01:28.074099963-08:00","created_by":"Eltmon"}],"comments":[{"id":14,"issue_id":"panopticon-ykw","author":"Eltmon","text":"Added workspaces config to root package.json: packages/shared, src/dashboard/server, src/dashboard/frontend. Dependencies remain in root for CLI build, workspace packages have their own.","created_at":"2026-01-26T01:07:29Z"}]}
{"id":"panopticon-yld","title":"PAN-116: Add test cases for multi-model session cost calculation","description":"Add new test suite for parseClaudeSession() multi-model handling:\n\nTest cases:\n1. Single-model session - Verify cost matches original behavior\n2. Sonnet â†’ Opus upgrade - Verify:\n   - cost_v2 \u003e cost (accurate vs first-model pricing)\n   - modelBreakdown has both models with exact IDs as keys\n   - Opus messages cost ~5x more per message than Sonnet\n   - model display shows normalized progression\n3. Multiple model switches - Verify breakdown tracks all models\n4. Session with no usage - Returns null\n5. All messages same model - Verify cost â‰ˆ cost_v2\n\nUse synthetic test data (helper to generate JSONL messages).\n\nFile: tests/lib/cost-parsers/jsonl-parser.test.ts","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:31:22.854023688-08:00","created_by":"Eltmon","updated_at":"2026-01-25T20:38:13.561347066-08:00","closed_at":"2026-01-25T20:38:13.561349266-08:00","labels":["PAN-116","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-yld","depends_on_id":"panopticon-pcv","type":"blocks","created_at":"2026-01-25T20:32:01.254040646-08:00","created_by":"Eltmon"}],"comments":[{"id":27,"issue_id":"panopticon-yld","author":"Eltmon","text":"Added 10 comprehensive test cases covering: single-model sessions, multi-model upgrades (Sonnetâ†’Opus), cost_v2 \u003e cost verification, model progression display, breakdown tracking, cache tokens, and edge cases","created_at":"2026-01-26T04:38:13Z"}]}
{"id":"panopticon-ym8","title":"PAN-34: Manual testing and polish","description":"Perform comprehensive manual testing and UX polish.\n\nTesting checklist:\n- [ ] Ctrl+C copies selected text\n- [ ] Ctrl+C sends interrupt when no selection\n- [ ] Ctrl+V pastes from clipboard\n- [ ] Cmd+C/V work on Mac\n- [ ] Selection auto-copy works (when enabled)\n- [ ] Auto-copy toggle persists across sessions\n- [ ] Right-click context menu appears\n- [ ] Context menu Copy/Paste actions work\n- [ ] Context menu stays within viewport\n- [ ] No console errors\n- [ ] Clipboard permission errors handled gracefully\n\nCross-platform testing:\n- Test on macOS (Cmd key)\n- Test on Windows/Linux (Ctrl key)\n- Test in different browsers (Chrome, Firefox, Safari)\n\nUX polish:\n- Smooth animations\n- Clear visual feedback\n- Consistent styling\n- Helpful tooltips","status":"open","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T09:46:47.888632003-08:00","created_by":"Eltmon","updated_at":"2026-01-26T09:46:47.888632003-08:00","labels":["PAN-34","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-ym8","depends_on_id":"panopticon-hr8","type":"blocks","created_at":"2026-01-26T09:46:47.891260828-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ym8","depends_on_id":"panopticon-fl8","type":"blocks","created_at":"2026-01-26T09:46:47.892933808-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ym8","depends_on_id":"panopticon-8ez","type":"blocks","created_at":"2026-01-26T09:46:47.89444218-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ym8","depends_on_id":"panopticon-1dm","type":"blocks","created_at":"2026-01-26T09:46:47.896142062-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-ym8","depends_on_id":"panopticon-5cg","type":"blocks","created_at":"2026-01-26T09:46:47.897742038-08:00","created_by":"Eltmon"}]}
{"id":"panopticon-yqy","title":"PAN-118-17: Generate Settings UI components from Stitch","description":"Use Stitch MCP to generate React components from approved design (panopticon-sey). MUST use mcp__stitch__* tools to export components, NOT manual coding. Components: PresetCard, CostIndicator, ProviderToggle, ProviderStatus, WorkTypeTable, ModelSelector, OverrideIndicator, ThinkingSlider. Wire up state management (React Query) and Settings API after generation. CRITICAL: If Stitch fails, file GitHub issue with 'gh issue create --label bug,stitch,PAN-118'. If that fails, ABORT and wait for user input.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:21:37.195638799-08:00","created_by":"Eltmon","updated_at":"2026-01-26T10:55:05.289452943-08:00","closed_at":"2026-01-26T10:55:05.289455644-08:00","labels":["PAN-118","difficulty:medium","linear","stitch"],"dependencies":[{"issue_id":"panopticon-yqy","depends_on_id":"panopticon-be6","type":"blocks","created_at":"2026-01-26T08:35:05.714577995-08:00","created_by":"Eltmon"}],"comments":[{"id":78,"issue_id":"panopticon-yqy","author":"Eltmon","text":"Stitch MCP get_screen failing with auth error. Filed GH issue #120. Task instructions prohibit manual coding - MUST use Stitch MCP tools. Blocked pending resolution or user guidance on workaround approach.","created_at":"2026-01-26T18:44:43Z"},{"id":80,"issue_id":"panopticon-yqy","author":"Eltmon","text":"React components generated from Stitch HTML - 17 new files created, build successful","created_at":"2026-01-26T18:55:03Z"}]}
{"id":"panopticon-yzk","title":"PAN-118-19: Polish Settings UI (animations, error handling)","description":"Add animations and transitions to Settings UI. Implement error handling and validation. Ensure mobile responsiveness. Add loading states and feedback.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-26T08:22:02.086661086-08:00","created_by":"Eltmon","updated_at":"2026-01-26T11:00:48.685080805-08:00","closed_at":"2026-01-26T11:00:48.685084506-08:00","labels":["PAN-118","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-yzk","depends_on_id":"panopticon-ehg","type":"blocks","created_at":"2026-01-26T08:22:49.407534133-08:00","created_by":"Eltmon"}],"comments":[{"id":82,"issue_id":"panopticon-yzk","author":"Eltmon","text":"UI polish complete - smooth animations, fade-in messages, all builds pass","created_at":"2026-01-26T19:00:48Z"}]}
{"id":"panopticon-z5g","title":"PAN-78: Filter model dropdowns by configured API keys","description":"In ModelDropdown component:\n- Check which API keys are configured (from settings state)\n- Disable/hide provider groups without keys\n- Show tooltip: 'Add API key to enable these models'\n- Anthropic models always available (uses Claude Code key)\n\nExample: If no OpenAI key, gpt-* models are disabled/grayed out.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T21:10:16.039330063-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:21:59.218006022-08:00","closed_at":"2026-01-25T21:21:59.218008322-08:00","labels":["PAN-78","difficulty:simple","linear"],"comments":[{"id":44,"issue_id":"panopticon-z5g","author":"Eltmon","text":"Dropdowns already filter by getAvailableModels()","created_at":"2026-01-26T05:21:59Z"}]}
{"id":"panopticon-zp4","title":"PAN-85: Mark agents completed via 'pan work done'","description":"Update src/cli/commands/work/done.ts to mark agent state as 'completed' after marking Linear issue done. Load agent state, set status to 'completed', save. This enables cleanup to identify completed agents.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T20:58:10.062025962-08:00","created_by":"Eltmon","updated_at":"2026-01-25T21:08:36.164325609-08:00","closed_at":"2026-01-25T21:08:36.164328509-08:00","labels":["PAN-85","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-zp4","depends_on_id":"panopticon-p3l","type":"blocks","created_at":"2026-01-25T20:59:13.45354144-08:00","created_by":"Eltmon"}],"comments":[{"id":35,"issue_id":"panopticon-zp4","author":"Eltmon","text":"Updated done.ts to set agent status to 'completed'. Committed.","created_at":"2026-01-26T05:08:36Z"}]}
{"id":"panopticon-zw6","title":"PAN-81: Add migration trigger on dashboard startup","description":"On dashboard startup, check if migration marker exists. If not, trigger non-blocking migration in background. Update cache status to 'migrating' during migration, 'live' when complete.","status":"closed","priority":2,"issue_type":"task","owner":"eltmon@gmail.com","created_at":"2026-01-25T09:03:15.089106711-08:00","created_by":"Eltmon","updated_at":"2026-01-25T16:03:51.050023112-08:00","closed_at":"2026-01-25T16:03:51.050026112-08:00","labels":["PAN-81","difficulty:simple","linear"],"dependencies":[{"issue_id":"panopticon-zw6","depends_on_id":"panopticon-vx8","type":"blocks","created_at":"2026-01-25T09:04:16.323906073-08:00","created_by":"Eltmon"},{"issue_id":"panopticon-zw6","depends_on_id":"panopticon-on8","type":"blocks","created_at":"2026-01-25T09:04:16.48278075-08:00","created_by":"Eltmon"}]}
